(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{71:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return i})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return u}));var n=r(2),a=r(6),o=(r(0),r(96)),i={id:"storage",title:"Using Storage"},c={unversionedId:"kd-user/storage",id:"kd-user/storage",isDocsHomePage:!1,title:"Using Storage",description:"KD clusters with storage",source:"@site/docs/kd-user/storage.md",slug:"/kd-user/storage",permalink:"/learn-kubedirector/docs/kd-user/storage",editUrl:"https://github.com/hpe-container-platform-community/learn-kubedirector/edit/master/docs/kd-user/storage.md",version:"current",sidebar:"someSidebar",previous:{title:"Using KD",permalink:"/learn-kubedirector/docs/kd-user/using"},next:{title:"Configuring KD",permalink:"/learn-kubedirector/docs/kd-user/configuring"}},s=[{value:"KD clusters with storage",id:"kd-clusters-with-storage",children:[]},{value:"Explore default storage",id:"explore-default-storage",children:[{value:"Edit deployment YAML",id:"edit-deployment-yaml",children:[]}]}],l={rightToc:s};function u(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},l,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"kd-clusters-with-storage"},"KD clusters with storage"),Object(o.b)("p",null,"Some of the YAML file basenames in the ",Object(o.b)("inlineCode",{parentName:"p"},"deploy/example_clusters/")," have a ",Object(o.b)("inlineCode",{parentName:"p"},"-stor")," suffix. This is just a convention used among these example files to indicate that the virtual cluster spec requests persistent storage. Several of the examples have both persistent and non-persistent variants."),Object(o.b)("p",null,"Note that if you are using persistent storage, you may wish to create a ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/bluek8s/kubedirector/wiki/KubeDirectorConfig-Definition"}),"KubeDirectorConfig")," object (as described in the next section ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"configuring"}),"configuring KD"),", in this case for the purpose of declaring a specific ",Object(o.b)("inlineCode",{parentName:"p"},"defaultStorageClassName")," value. Alternately you can declare a storageClassName in the persistent storage spec section of each virtual cluster spec. If no storage class value is declared in either the KubeDirectorConfig or the virtual cluster, then the K8s default storage class will be used."),Object(o.b)("h2",{id:"explore-default-storage"},"Explore default storage"),Object(o.b)("p",null,"kubectl get storageclass\nkubectl get pv\nkubectl get pvc"),Object(o.b)("h3",{id:"edit-deployment-yaml"},"Edit deployment YAML"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Edit ",Object(o.b)("inlineCode",{parentName:"li"},"deploy/example_clusters/cr-cluster-ubuntu18.04-stor.yaml")," ",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"change both instances of ",Object(o.b)("inlineCode",{parentName:"li"},"4GBi")," to ",Object(o.b)("inlineCode",{parentName:"li"},"1GBi")," "),Object(o.b)("li",{parentName:"ul"},"change CPU from ",Object(o.b)("inlineCode",{parentName:"li"},"2")," to ",Object(o.b)("inlineCode",{parentName:"li"},"1"))))))}u.isMDXComponent=!0},96:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=a.a.createContext({}),u=function(e){var t=a.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=u(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(r),b=n,f=p["".concat(i,".").concat(b)]||p[b]||d[b]||o;return r?a.a.createElement(f,c(c({ref:t},l),{},{components:r})):a.a.createElement(f,c({ref:t},l))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var l=2;l<o;l++)i[l]=r[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);